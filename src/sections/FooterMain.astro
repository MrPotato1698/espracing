---
import { Image } from "astro:assets";
import Twitter from "@/assets/social/brand-x.svg";
import Instagram from "@/assets/social/brand-instagram.svg";
import Paypal from "@/assets/social/brand-paypal.svg";
import Discord from "@/assets/social/brand-discord.svg";
import Youtube from "@/assets/social/brand-youtube.svg";
import Twitch from "@/assets/social/brand-twitch.svg";
import ESPRacing from "@/assets/imgresource/ESPRACINGLogoBlanco.webp";
import Github from "@/assets/imgresource/github.svg";
import Cup from "@/assets/imgresource/cup.svg";

const { cookies, redirect } = Astro;

const accessToken = cookies.get("sb-access-token");
const refreshToken = cookies.get("sb-refresh-token");
---

<footer class="bg-darkPrimary relative">
  <div class="px-4 py-16 mx-auto space-y-8 max-w-screen-2xl sm:px-6 lg:space-y-16 lg:px-8">
    <div class="grid grid-cols-1 gap-8 lg:grid-cols-3">
      <div>
        <div>
          <a href ="/"><Image src={ESPRacing} alt="ESP Racing Logo" class="w-auto h-56" /></a>
        </div>

        <ul class="pl-4 flex gap-4 mt-8">
          <li class="group relative">
            <a
              href="https://x.com/EspRacingCom" target="_blank">
              <span class="sr-only">X (previously Twitter)</span>
              <Image class="w-8 .p-2 invert" src={Twitter} alt="Twitter ESP Racing" />
            </a>
            <span class="absolute left-1/2 -translate-x-1/2 -top-8 px-2 py-1 text-xs text-white bg-primary rounded opacity-0 group-hover:opacity-100 transition whitespace-nowrap pointer-events-none before:content-[''] before:absolute before:top-full before:left-1/2 before:-translate-x-1/2 before:border-4 before:border-transparent before:border-t-primary">
              ¬°S√≠guenos en X!
            </span>
          </li>

          <li class="group relative">
            <a
            href="https://www.instagram.com/espsimracingoficial/" target="_blank">
            <span class="sr-only">Instagram</span>
            <Image class="w-8 .p-2 invert" src={Instagram} alt="Instagram ESP Racing" />
          </a>
          <span class="absolute left-1/2 -translate-x-1/2 -top-8 px-2 py-1 text-xs text-white bg-primary rounded opacity-0 group-hover:opacity-100 transition whitespace-nowrap pointer-events-none before:content-[''] before:absolute before:top-full before:left-1/2 before:-translate-x-1/2 before:border-4 before:border-transparent before:border-t-primary">
            ¬°S√≠guenos en Instagram!
          </span>
          </li>

          <li class="group relative">
            <a href="https://discord.gg/hjawMXGU6k" target="_blank">
              <span class="sr-only">Discord</span>
              <Image class="w-8 .p-2 invert" src={Discord} alt="Discord ESP Racing" />
            </a>
            <span class="absolute left-1/2 -translate-x-1/2 -top-8 px-2 py-1 text-xs text-white bg-primary rounded opacity-0 group-hover:opacity-100 transition whitespace-nowrap pointer-events-none before:content-[''] before:absolute before:top-full before:left-1/2 before:-translate-x-1/2 before:border-4 before:border-transparent before:border-t-primary">
              ¬°Unete a nuestro Discord!
            </span>
          </li>

          <li class="group relative">
            <a href="https://www.youtube.com/@esp-racing-com-es" target="_blank">
              <span class="sr-only">Youtube</span>
              <Image class="w-8 .p-2 invert" src={Youtube} alt="Youtube ESP Racing" />
            </a>
            <span class="absolute left-1/2 -translate-x-1/2 -top-8 px-2 py-1 text-xs text-white bg-primary rounded opacity-0 group-hover:opacity-100 transition whitespace-nowrap pointer-events-none before:content-[''] before:absolute before:top-full before:left-1/2 before:-translate-x-1/2 before:border-4 before:border-transparent before:border-t-primary">
              ¬°Suscribete a nuestro canal de Youtube!
            </span>
          </li>

          <li class="group relative">
            <a href="https://www.twitch.tv/sergig_" target="_blank">
              <span class="sr-only">Twitch</span>
              <Image class="w-8 .p-2 invert" src={Twitch} alt="Twitch ESP Racing" />
            </a>
            <span class="absolute left-1/2 -translate-x-1/2 -top-8 px-2 py-1 text-xs text-white bg-primary rounded opacity-0 group-hover:opacity-100 transition whitespace-nowrap pointer-events-none before:content-[''] before:absolute before:top-full before:left-1/2 before:-translate-x-1/2 before:border-4 before:border-transparent before:border-t-primary">
              ¬°Retransmisiones en directo!
            </span>
          </li>

          <li class="group relative">
            <a href="https://www.paypal.com/es/home" target="_blank">
              <span class="sr-only">Paypal</span>
              <Image class="w-8 .p-2 invert" src={Paypal} alt="Paypal ESP Racing" />
            </a>
              <span class="absolute left-1/2 -translate-x-1/2 -top-8 px-2 py-1 text-xs text-white bg-primary rounded opacity-0 group-hover:opacity-100 transition whitespace-nowrap pointer-events-none before:content-[''] before:absolute before:top-full before:left-1/2 before:-translate-x-1/2 before:border-4 before:border-transparent before:border-t-primary">
                Paypal de la comunidad
              </span>
          </li>
        </ul>

        <ul class="pl-10 flex gap-2 mt-2">
          <li class="group relative my-auto">
            <a class = "text-sm">Sobre el proyecto: </a>
          </li>
          <li class="group relative">
            <a href="https://github.com/MrPotato1698/espracing" target="_blank">
              <span class="sr-only">Proyecto Github</span>
              <Image class="w-8 .p-2 invert" src={Github} alt="Cafe para el desarrollador" />
            </a>
            <span class="absolute left-1/2 -translate-x-1/2 -top-8 px-2 py-1 text-xs text-white bg-primary rounded opacity-0 group-hover:opacity-100 transition whitespace-nowrap pointer-events-none before:content-[''] before:absolute before:top-full before:left-1/2 before:-translate-x-1/2 before:border-4 before:border-transparent before:border-t-primary">
              Proyecto en Github
            </span>
          </li>

          <li class="group relative">
            <a href="https://paypal.me/MJGG1698" target="_blank">
              <span class="sr-only">Paypal MJGG</span>
              <Image class="w-8 .p-2 invert" src={Cup} alt="Cafe para el desarrollador" />
            </a>
            <span class="absolute left-1/2 -translate-x-1/2 -top-8 px-2 py-1 text-xs text-white bg-primary rounded opacity-0 group-hover:opacity-100 transition whitespace-nowrap pointer-events-none before:content-[''] before:absolute before:top-full before:left-1/2 before:-translate-x-1/2 before:border-4 before:border-transparent before:border-t-primary">
              Un caf√© para el desarrollador ü§ç
            </span>
          </li>
        </ul>
      </div>

      <div class="grid grid-cols-1 gap-10 sm:grid-cols-2 lg:col-span-2 lg:grid-cols-5">
        <div>
          <p class="font-medium text-lightPrimary">Inicio</p>

          <ul class="mt-6 space-y-4 text-sm">
            <li>
              <a href="/news" class="text-gray-300 transition hover:text-primary"> Noticias </a>
            </li>

            <li>
              <a href="/about" class="text-gray-300 transition hover:text-primary"> Sobre Nosotros </a>
            </li>

            <li>
              <a href="/faq" class="text-gray-300 transition hover:text-primary"> Preguntas Frecuentes </a>
            </li>

            <li>
              <a href="/contact" class="text-gray-300 transition hover:text-primary"> Contacto </a>
            </li>

          </ul>
        </div>

        <div>
          <p class="font-medium text-lightPrimary">Campeonato Actual</p>

          <ul class="mt-6 space-y-4 text-sm">
            <li>
              <a href="/actualchamp" class="text-gray-300 transition hover:text-primary"> Informaci√≥n </a>
            </li>

            <li>
              <a href="/rules" class="text-gray-300 transition hover:text-primary"> Normativa </a>
            </li>

            <li>
              <a href="/globalresults" class="text-gray-300 transition hover:text-primary"> Estadisticas de Carreras </a>
            </li>

            <li>
              <a href="/globalchampresults" class="text-gray-300 transition hover:text-primary"> Estadisticas de Campeonatos </a>
            </li>

            <li>
              <a href="/inscriptions" class="text-gray-300 transition hover:text-primary"> Incripciones </a>
            </li>
          </ul>
        </div>

        <div>
          <p class="font-medium text-lightPrimary">El Pasado de ESP Racing</p>

          <ul class="mt-6 space-y-4 text-sm">
            <li>
              <a href="/pastchamps" class="text-gray-300 transition hover:text-primary"> Ver Pasado </a>
            </li>

          </ul>
        </div>

        <div>
          <p class="font-medium text-lightPrimary">Extras</p>

          <ul class="mt-6 space-y-4 text-sm">
            <li>
              <a href="/drivers" class="text-gray-300 transition hover:text-primary"> Pilotos </a>
            </li>

            <li>
              <a href="/teams" class="text-gray-300 transition hover:text-primary"> Equipos </a>
            </li>

            <li>
              <a href="/fuelCalculator" class="text-gray-300 transition hover:text-primary"> Calculadora de Combustible </a>
            </li>

          </ul>
        </div>

        <div>
          <p class="font-medium text-lightPrimary">Perfil Usuario</p>

          <ul class="mt-6 space-y-4 text-sm">
          {
            accessToken && refreshToken ? (
              <li>
                <a href="/myprofile" class="text-gray-300 transition hover:text-primary"> Mi Perfil </a>
              </li>
              <form action="/api/auth/signout">
              <li>
                <button type="submit" class="text-gray-300 transition hover:text-primary"> Cerrar Sesi√≥n </a>
              </li>
              </form>
            ) : (
              <li>
                <a href="/login" class="text-gray-300 transition hover:text-primary"> Iniciar Sesi√≥n </a>
              </li>
              <li>
                <a href="/register" class="text-gray-300 transition hover:text-primary"> Registrase </a>
              </li>
            )
          }

          </ul>
        </div>

      </div>
    </div>

    <p class="text-xs text-gray-500 -mt-12">&copy; 2024-2026. ESP Racing. All rights reserved.</p>
  </div>
</footer>
